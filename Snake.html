<!doctype html>
<html lang="de">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Snake – Einfach</title>
  <style>
    :root {
      --size: 20;         /* Anzahl Zellen pro Zeile/Spalte */
      --cell: 20px;       /* Zellgröße in Pixeln */
    }
    body {
      background: #0f1220;
      color: #e6e6e6;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      margin: 0;
      padding: 20px;
    }
    h1 { font-size: 18px; margin: 0; }
    #game {
      position: relative;
      width: calc(var(--size) * var(--cell));
      height: calc(var(--size) * var(--cell));
      background: #1a1f35;
      border: 2px solid #3f4a7a;
      box-shadow: 0 8px 20px rgba(0,0,0,0.35) inset;
    }
    .cell {
      position: absolute;
      width: var(--cell);
      height: var(--cell);
    }
    .snake {
      background: #58d68d;
      border: 1px solid #2ecc71;
      box-sizing: border-box;
    }
    .head {
      background: #2ecc71;
      border: 1px solid #27ae60;
    }
    .food {
      background: #e74c3c;
      border-radius: 4px;
      box-shadow: 0 0 6px #e74c3c;
    }
    #hud {
      display: flex;
      gap: 16px;
      align-items: center;
    }
    #btns {
      display: flex;
      gap: 8px;
    }
    button {
      background: #2a3157;
      color: #e6e6e6;
      border: 1px solid #3f4a7a;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover { filter: brightness(1.1); }
    #status { min-width: 160px; }
  </style>
    <link rel="stylesheet" href="assets/style.css">
  </head>
  <body>
    <header class="site-header">
      <div class="container">
        <h1 class="logo">Meine Schule</h1>
        <nav class="nav">
          <button class="nav-btn" data-target="home">Start</button>
          <button class="nav-btn" data-target="about">Über</button>
          <button class="nav-btn" data-target="projects">Projekte</button>
          <button class="nav-btn" data-target="contact">Kontakt</button>
        </nav>
      </div>
    </header>

    <main class="container">
      <section id="home" class="panel active">
        <h2>Willkommen</h2>
        <p>Dies ist die Startseite im dunkelblauen Stil. Klicke die Buttons oben, um zu anderen Abteilen zu springen.</p>
        <div class="cta-row">
          <button class="primary" data-target="about">Mehr über uns</button>
          <button class="secondary" data-target="projects">Unsere Projekte</button>
        </div>
      </section>

      <section id="about" class="panel">
        <h2>Über Uns</h2>
        <p>Informationen über die Schule, das Team und Ziele.</p>
      </section>

      <section id="projects" class="panel">
        <h2>Projekte</h2>
        <p>Einige kleine Projekte und Beispiele.</p>
      </section>

      <section id="contact" class="panel">
        <h2>Kontakt</h2>
        <p>Kontaktformular oder E-Mail-Infos können hier stehen.</p>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">© Meine Schule</div>
    </footer>

    <script src="assets/script.js"></script>
  </body>
</html>
<body>
  <h1>Snake</h1>
  <div id="hud">
    <div id="score">Punkte: 0</div>
    <div id="highscore">Highscore: 0</div>
    <div id="status"></div>
    <div id="btns">
      <button id="start">Start</button>
      <button id="pause">Pause</button>
      <button id="reset">Reset</button>
    </div>
  </div>
  <div id="game" aria-label="Spielfeld"></div>

  <script>
    // Einstellungen
    const SIZE = 20;         // Grid: SIZE x SIZE
    const TICK_MS = 120;     // Geschwindigkeit (kleiner = schneller)

    // Zustand
    let snake, dir, food, score, timer, running, pendingDir, highscore;

    const game = document.getElementById('game');
    const scoreEl = document.getElementById('score');
    const highscoreEl = document.getElementById('highscore');
    const statusEl = document.getElementById('status');

    // Highscore laden
    highscore = parseInt(localStorage.getItem('snakeHighscore')) || 0;
    highscoreEl.textContent = 'Highscore: ' + highscore;

    // Hilfsfunktionen
    function xyToPos([x, y]) {
      return { left: x * 20 + 'px', top: y * 20 + 'px' };
    }

    function spawnFood() {
      while (true) {
        const x = Math.floor(Math.random() * SIZE);
        const y = Math.floor(Math.random() * SIZE);
        if (!snake.some(s => s[0] === x && s[1] === y)) {
          return [x, y];
        }
      }
    }

    function draw() {
      game.innerHTML = '';

      // Food zeichnen
      const f = document.createElement('div');
      f.className = 'cell food';
      const posF = xyToPos(food);
      f.style.left = posF.left;
      f.style.top = posF.top;
      game.appendChild(f);

      // Snake zeichnen
      snake.forEach((seg, i) => {
        const d = document.createElement('div');
        d.className = 'cell ' + (i === 0 ? 'head' : 'snake');
        const pos = xyToPos(seg);
        d.style.left = pos.left;
        d.style.top = pos.top;
        game.appendChild(d);
      });

      scoreEl.textContent = 'Punkte: ' + score;
      highscoreEl.textContent = 'Highscore: ' + highscore;
    }

    function step() {
      // Richtung aktualisieren, falls vorgesehen (verhindert sofortiges Umdrehen)
      if (pendingDir) {
        const [dx, dy] = pendingDir;
        const [cx, cy] = dir;
        if (!(dx === -cx && dy === -cy)) dir = pendingDir;
        pendingDir = null;
      }

      const [hx, hy] = snake[0];
      const nx = (hx + dir[0] + SIZE) % SIZE;
      const ny = (hy + dir[1] + SIZE) % SIZE;
      const newHead = [nx, ny];

      // Kollision mit sich selbst
      if (snake.some(([x, y]) => x === nx && y === ny)) {
        gameOver();
        return;
      }

      snake.unshift(newHead);

      // Essen?
      if (nx === food[0] && ny === food[1]) {
        score++;
        food = spawnFood();
      } else {
        snake.pop(); // kein Essen: letztes Segment entfernen
      }

      draw();
    }

    function gameOver() {
      clearInterval(timer);
      running = false;
      statusEl.textContent = 'Game Over! Taste Start für neuen Versuch.';

      // Highscore prüfen
      if (score > highscore) {
        highscore = score;
        localStorage.setItem('snakeHighscore', highscore);
        highscoreEl.textContent = 'Highscore: ' + highscore;
        statusEl.textContent += ' Neuer Highscore!';
      }
    }

    function reset() {
      snake = [[10, 10], [9, 10], [8, 10]];
      dir = [1, 0];          // Start: rechts
      pendingDir = null;
      food = spawnFood();
      score = 0;
      statusEl.textContent = '';
      draw();
    }

    function start() {
      if (running) return;
      running = true;
      statusEl.textContent = 'Läuft…';
      timer = setInterval(step, TICK_MS);
    }

    function pause() {
      if (!running) return;
      clearInterval(timer);
      running = false;
      statusEl.textContent = 'Pausiert';
    }

    // Eingaben
    window.addEventListener('keydown', (e) => {
      const k = e.key.toLowerCase();
      if (k === 'arrowup' || k === 'w') pendingDir = [0, -1];
      else if (k === 'arrowdown' || k === 's') pendingDir = [0, 1];
      else if (k === 'arrowleft' || k === 'a') pendingDir = [-1, 0];
      else if (k === 'arrowright' || k === 'd') pendingDir = [1, 0];
      else if (k === ' ') { running ? pause() : start(); }
    });

    // Buttons
    document.getElementById('start').onclick = start;
    document.getElementById('pause').onclick = pause;
    document.getElementById('reset').onclick = () => { pause(); reset(); };

    // Init
    reset();
  </script>
</body>
</html>

